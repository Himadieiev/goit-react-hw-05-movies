"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[13],{13:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(861),a=r(439),s=r(757),c=r.n(s),u=r(791),o="Search_searchForm__0FeD+",i="Search_searchFormButton__4P+Bw",m="Search_searchFormInput__Ho92d",h=r(184),l=function(e){var t=e.onSubmitForm,r=(0,u.useState)(""),n=(0,a.Z)(r,2),s=n[0],c=n[1];return(0,h.jsxs)("form",{className:o,onSubmit:function(e){e.preventDefault(),""!==s.trim()?(t(s),c("")):alert("Please enter a search keyword")},children:[(0,h.jsx)("input",{className:m,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"movie",value:s,onChange:function(e){c(e.currentTarget.value.toLowerCase())}}),(0,h.jsx)("button",{type:"submit",className:i,children:(0,h.jsx)("span",{children:"Search"})})]})},f=r(243),p=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.get("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&include_adult=false&api_key=").concat("39851f8ad616b0be865617a5920dae9b"));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=p,d="MovieList_list__yjDCC",_="MovieList_item__tDivI",x=r(689),w=r(87),b=function(e){var t=e.movies,r=(0,x.TH)();return(0,h.jsx)("ul",{className:d,children:t.map((function(e){return(0,h.jsx)("li",{className:_,children:(0,h.jsx)(w.rU,{to:{pathname:"/movies/".concat(e.id),state:{from:r.pathname}},children:e.title||e.name},e)},e.id)}))})},j=function(){var e=(0,u.useState)([]),t=(0,a.Z)(e,2),r=t[0],s=t[1],o=(0,x.TH)(),i=(0,w.lr)(),m=(0,a.Z)(i,2),f=m[0],p=m[1];(0,u.useEffect)((function(){var e=f.get("search");e&&d(e)}),[o,f]);var d=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:r=e.sent,s(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,n.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p({search:t}),d(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{children:[(0,h.jsx)(l,{onSubmitForm:_,setSearchParams:p}),(0,h.jsx)(b,{movies:r})]})}}}]);
//# sourceMappingURL=13.c8f2144f.chunk.js.map